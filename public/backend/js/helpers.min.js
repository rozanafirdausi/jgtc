/*! Suitcommerce ONWJ | Suitmedia */

;(function ( w, d, undefined ) {
    'use strict';

    var Helpers = {

        init: function () {
            // this.fastClick();
            this.enableActiveStateMobile();
            this.WPViewportFix();
        },

        fastClick: function () {
            FastClick.attach(d.body);
        },

        enableActiveStateMobile: function () {
            if ( d.addEventListener ) {
                d.addEventListener('touchstart', function () {}, true);
            }
        },

        WPViewportFix: function () {
            if ( navigator.userAgent.match(/IEMobile\/10\.0/) ) {
                var style   = d.createElement("style"),
                    fix     = d.createTextNode("@-ms-viewport{width:auto!important}");

                style.appendChild(fix);
                d.getElementsByTagName('head')[0].appendChild(style);
            }
        },

        isImage: function ( filename ) {
            if ( filename.match(/\.(jpg|jpeg|png|gif|bmp)$/) ) {
                return true;
            }

            return false;
        },

        isPDF: function ( filename ) {
            if ( filename.match(/\.(pdf)$/) ) {
                return true;
            }

            return false;
        },

        isDOC: function ( filename ) {
            if ( filename.match(/\.(doc|docx)$/) ) {
                return true;
            }

            return false;
        },

        isXLS: function ( filename ) {
            if ( filename.match(/\.(xls|xlsx)$/) ) {
                return true;
            }

            return false;
        },

        isPPT: function ( filename ) {
            if ( filename.match(/\.(ppt|pptx)$/) ) {
                return true;
            }

            return false;
        },

        supportFileAPI: function () {
            return !!(w.File && w.FileReader && w.FileList && w.Blob);
        },

        getUID: function () {
            var randInt = Math.floor( (new Date()).getTime() );

            return 'suitcommerce'+ randInt;
        },

        changeTableData: function ( dataURL, table ) {
            table.DataTable().ajax.url( dataURL ).load();
        }

    };

    var ChartOpts = {

        bar: {
            chart: { type: 'bar' },
            title: {
                text: '',
                style: { 'fontSize': '14px', 'fontFamily': 'Futura Md BT' }
            },
            yAxis: {
                min: 0,
                title: { text: '' },
                labels: { overflow: 'justify' }
            },
            credits: { enabled: false },
            legend: {
                enabled: true
            }
        },

        pie: {
            chart: {
                type: 'pie',
                options3d: {
                    enabled: true,
                    alpha: 45
                }
            },
            plotOptions: {
                pie: {
                    innerSize: 50,
                    depth: 45,
                    allowPointSelect: true,
                    dataLabels: {
                        enabled: false,
                        format: '{point.y}',
                        distance: -30,
                        style: { 'fontSize': '16px', 'textShadow': 'none' }
                    },
                    showInLegend: true
                }
            },
            title: {
                text: '',
                style: { 'fontSize': '14px', 'fontFamily': 'Futura Md BT' }
            },
            credits: { enabled: false },
            legend: {
                enabled: true
            }  
        },

        line: {
            chart: { type: 'line' },
            title: {
                text: '',
                style: {
                    'fontSize': '14px',
                    'fontFamily': 'Futura Md BT'
                }
            },
            yAxis: { title: { text: '' } },
            plotOptions: {
                line: {
                    dataLabels: { enabled: true },
                    enableMouseTracking: false
                }
            },
            credits: { enabled: false },
            legend: {
                enabled: true
            }
        },

        barLine: {
            chart: {
                zoomType: 'xy'
            },
            title: {
                text: '',
                style: {
                    'fontSize': '14px',
                    'fontFamily': 'Futura Md BT'
                }
            },
            plotOptions: {
                line: {
                    dataLabels: { enabled: true },
                    enableMouseTracking: false
                }
            },
            credits: { enabled: false },
            legend: {
                enabled: true
            }
        }
    };

    Helpers.init();

    var Suitcommerce = {
        chartOpts       : ChartOpts,
        isImage         : Helpers.isImage,
        isPDF           : Helpers.isPDF,
        isDOC           : Helpers.isDOC,
        isXLS           : Helpers.isXLS,
        isPPT           : Helpers.isPPT,
        supportFileAPI  : Helpers.supportFileAPI,
        getUID          : Helpers.getUID,
        changeTableData : Helpers.changeTableData
    };

    w.Suitcommerce = Suitcommerce;
})( window, document );